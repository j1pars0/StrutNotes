<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 6.0//EN"
        "https://struts.apache.org/dtds/struts-6.0.dtd">
<struts>
    <constant name="struts.devMode" value="true" />
    <constant name="struts.mapper.action.prefix.enabled" value="true" />
    <constant name="struts.ui.theme" value="bootstrap" />
    
    <constant 
        name="struts.allowlist.packageNames" 
        value="uk.co.jamesrparsons.strutnotes.model,uk.co.jamesrparsons.strutnotes.action,uk.co.jamesrparsons.strutnotes.repository"/> 
    
    <package name="strutnotes" extends="struts-default">
        <action name="/">
            <result>
                /index.action
            </result>
        </action>
                
 
        <action name="index" 
                class="uk.co.jamesrparsons.strutnotes.action.NoteMaintAction" 
                method="list">
            <result name="success">/WEB-INF/notelist.jsp</result>
            <interceptor-ref name="basicStack" />
        </action>
        
        <action name="*Notemaint" 
                class="uk.co.jamesrparsons.strutnotes.action.NoteMaintAction" 
                method="{1}">
            <interceptor-ref name="paramsPrepareParamsStack" />
            <result name="input">/WEB-INF/note.jsp</result>
            <result name="success" type="redirectAction" >index</result>
        </action>

        <action name="listCategories" 
                class="uk.co.jamesrparsons.strutnotes.action.CategoryMaintAction" 
                method="list">
            <result name="success">/WEB-INF/categorylist.jsp</result>
            <interceptor-ref name="basicStack" />
        </action>

        <action name="*Categorymaint" 
                class="uk.co.jamesrparsons.strutnotes.action.CategoryMaintAction" 
                method="{1}">
            <interceptor-ref name="paramsPrepareParamsStack" />
            <result name="input">/WEB-INF/category.jsp</result>
            <result name="success" type="redirectAction" >listCategories</result>
        </action>

    </package>
</struts>
